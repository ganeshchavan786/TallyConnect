<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outstanding Report - TallyConnect</title>
    <link rel="stylesheet" href="../static/css/main.css">
    <link rel="stylesheet" href="../static/css/reports.css">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="report-header">
            <div class="logo">
                <h1>üìä TallyConnect</h1>
                <p>Modern Tally Reporting</p>
            </div>
            <div class="company-info">
                <h2>{% COMPANY_NAME %}</h2>
                <p>Outstanding Report</p>
                <p style="font-size: 14px; opacity: 0.8;">As on: {% AS_ON_DATE %}</p>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="report-content">
            <!-- Report Actions -->
            <div class="report-actions">
                <input type="text" id="searchInput" class="search-input" placeholder="üîç Search party name..." 
                       data-table="outstandingTable" style="flex: 1; max-width: 300px;">
                <button onclick="exportToCSV('outstandingTable', 'outstanding_report.csv')" class="btn-csv">
                    üìä Export CSV
                </button>
                <button onclick="window.print()" class="btn-print">
                    üñ®Ô∏è Print
                </button>
            </div>

            <!-- Age Analysis Summary -->
            <h3 style="margin-top: 30px; color: #2c3e50;">üìà Age Analysis</h3>
            <div class="age-analysis">
                <div class="age-bucket safe">
                    <div class="label">0-30 Days</div>
                    <div class="amount">{% AGE_0_30 %}</div>
                </div>
                <div class="age-bucket safe">
                    <div class="label">30-60 Days</div>
                    <div class="amount">{% AGE_30_60 %}</div>
                </div>
                <div class="age-bucket warning">
                    <div class="label">60-90 Days</div>
                    <div class="amount">{% AGE_60_90 %}</div>
                </div>
                <div class="age-bucket overdue">
                    <div class="label">&gt;90 Days</div>
                    <div class="amount">{% AGE_90_PLUS %}</div>
                </div>
            </div>

            <!-- Outstanding Summary Table -->
            <h3 style="margin-top: 40px; color: #2c3e50;">üìã Party-wise Outstanding</h3>
            <table id="outstandingTable">
                <thead>
                    <tr>
                        <th data-sortable="true">Party Name</th>
                        <th data-sortable="true" class="text-right">Debit (Dr)</th>
                        <th data-sortable="true" class="text-right">Credit (Cr)</th>
                        <th data-sortable="true" class="text-right">Balance</th>
                        <th data-sortable="true" class="text-center">Age (Days)</th>
                        <th data-sortable="true" class="text-center">Transactions</th>
                    </tr>
                </thead>
                <tbody>
                    {% PARTY_ROWS %}
                </tbody>
                <tfoot>
                    <tr style="background: #ecf0f1; font-weight: bold;">
                        <td>Total</td>
                        <td class="text-right">{% TOTAL_DEBIT %}</td>
                        <td class="text-right">{% TOTAL_CREDIT %}</td>
                        <td class="text-right">{% TOTAL_BALANCE %}</td>
                        <td class="text-center">-</td>
                        <td class="text-center">{% TOTAL_COUNT %}</td>
                    </tr>
                </tfoot>
            </table>
        </main>

        <!-- Footer Section -->
        <footer class="report-footer">
            <div class="footer-left">
                <p>Generated on: {% GENERATED_DATE %}</p>
                <p>TallyConnect v5.6 | ¬© 2025 Katara Dental</p>
            </div>
            <div class="footer-right">
                <p>Total Parties: {% TOTAL_PARTIES %}</p>
            </div>
        </footer>
    </div>

    <script src="../static/js/filters.js"></script>
    <script src="../static/js/export.js"></script>
</body>
</html>

