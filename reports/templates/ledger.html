<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ledger Report - TallyConnect</title>
    <link rel="stylesheet" href="../static/css/main.css">
    <link rel="stylesheet" href="../static/css/reports.css">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="report-header">
            <div class="logo">
                <h1>üìä TallyConnect</h1>
                <p>Modern Tally Reporting</p>
            </div>
            <div class="company-info">
                <h2>{% COMPANY_NAME %}</h2>
                <p>Ledger Report</p>
                <p style="font-size: 14px; opacity: 0.8;">{% FROM_DATE %} to {% TO_DATE %}</p>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="report-content">
            <!-- Ledger Header -->
            <div class="ledger-header">
                <h3 style="margin-bottom: 20px; color: #2c3e50;">üìó {% LEDGER_NAME %}</h3>
                <div class="ledger-summary">
                    <div class="balance-box opening">
                        <div class="label">Opening Balance</div>
                        <div class="value">{% OPENING_BALANCE %}</div>
                    </div>
                    <div class="balance-box">
                        <div class="label">Total Debit</div>
                        <div class="value amount-positive">{% PERIOD_DEBIT %}</div>
                    </div>
                    <div class="balance-box">
                        <div class="label">Total Credit</div>
                        <div class="value amount-negative">{% PERIOD_CREDIT %}</div>
                    </div>
                    <div class="balance-box closing">
                        <div class="label">Closing Balance</div>
                        <div class="value">{% CLOSING_BALANCE %}</div>
                    </div>
                </div>
            </div>

            <!-- Report Actions -->
            <div class="report-actions">
                <input type="text" id="searchInput" class="search-input" placeholder="üîç Search transactions..." 
                       data-table="ledgerTable" style="flex: 1; max-width: 300px;">
                <button onclick="exportToCSV('ledgerTable', 'ledger_report.csv')" class="btn-csv">
                    üìä Export CSV
                </button>
                <button onclick="window.print()" class="btn-print">
                    üñ®Ô∏è Print
                </button>
            </div>

            <!-- Transaction Details Table -->
            <h3 style="margin-top: 30px; color: #2c3e50;">üìã Transaction Details</h3>
            <table id="ledgerTable">
                <thead>
                    <tr>
                        <th data-sortable="true">Date</th>
                        <th data-sortable="true">Voucher Type</th>
                        <th data-sortable="true">Voucher No</th>
                        <th>Particulars</th>
                        <th data-sortable="true" class="text-right">Debit</th>
                        <th data-sortable="true" class="text-right">Credit</th>
                        <th data-sortable="true" class="text-right">Balance</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background: #e8f4f8; font-weight: bold;">
                        <td colspan="4">Opening Balance</td>
                        <td class="text-right">-</td>
                        <td class="text-right">-</td>
                        <td class="text-right">{% OPENING_BALANCE %}</td>
                    </tr>
                    {% TRANSACTION_ROWS %}
                    <tr style="background: #e8f4f8; font-weight: bold;">
                        <td colspan="4">Closing Balance</td>
                        <td class="text-right">-</td>
                        <td class="text-right">-</td>
                        <td class="text-right">{% CLOSING_BALANCE %}</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr style="background: #ecf0f1; font-weight: bold;">
                        <td colspan="4">Total</td>
                        <td class="text-right">{% TOTAL_DEBIT %}</td>
                        <td class="text-right">{% TOTAL_CREDIT %}</td>
                        <td class="text-right">{% NET_MOVEMENT %}</td>
                    </tr>
                </tfoot>
            </table>
        </main>

        <!-- Footer Section -->
        <footer class="report-footer">
            <div class="footer-left">
                <p>Generated on: {% GENERATED_DATE %}</p>
                <p>TallyConnect v5.6 | ¬© 2025 Vrushali Infotech Pvt Ltd, Pune, Maharashtra</p>
            </div>
            <div class="footer-right">
                <p>Total Transactions: {% TOTAL_TRANSACTIONS %}</p>
            </div>
        </footer>
    </div>

    <script src="../static/js/filters.js"></script>
    <script src="../static/js/export.js"></script>
</body>
</html>

