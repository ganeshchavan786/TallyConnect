<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ledger Report - TallyConnect</title>
    <style>
/* 
 * TallyConnect - Main CSS
 * Base styles for all reports
 */

/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f0f2f5;
    padding: 15px;
    color: #2c3e50;
    line-height: 1.6;
    margin: 0;
}

.container {
    max-width: 1400px;
    margin: 0 auto;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    overflow: hidden;
}

/* Header Styles */
.report-header {
    background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
    color: white;
    padding: 25px 35px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 3px solid #3498db;
}

.logo h1 {
    font-size: 26px;
    margin-bottom: 3px;
    font-weight: 600;
    letter-spacing: 0.5px;
}

.logo p {
    font-size: 12px;
    opacity: 0.85;
    margin: 0;
}

.company-info {
    text-align: right;
}

.company-info h2 {
    font-size: 22px;
    margin-bottom: 4px;
    font-weight: 600;
}

.company-info p {
    font-size: 13px;
    opacity: 0.9;
    margin: 2px 0;
}

/* Main Content */
.report-content {
    padding: 25px 35px;
    min-height: 400px;
    background: #ffffff;
}

/* Tables */
table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    background: white;
    border-radius: 6px;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    border: 1px solid #e0e0e0;
}

thead {
    background: #34495e;
    color: white;
}

th {
    padding: 12px 15px;
    text-align: left;
    font-weight: 600;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-bottom: 2px solid #2c3e50;
}

th.text-right {
    text-align: right;
}

th.text-center {
    text-align: center;
}

tbody tr {
    border-bottom: 1px solid #f0f0f0;
    transition: background 0.2s;
}

tbody tr:hover {
    background: #f8f9fa;
}

tbody tr:last-child {
    border-bottom: none;
}

td {
    padding: 12px 15px;
    font-size: 13px;
    color: #2c3e50;
}

tfoot tr {
    background: #f8f9fa !important;
    border-top: 2px solid #e0e0e0;
    font-weight: 600;
}

/* Buttons */
button, .btn {
    padding: 12px 24px;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.3s;
}

.btn-print {
    background: #3498db;
    color: white;
}

.btn-print:hover {
    background: #2980b9;
    transform: translateY(-2px);
}

.btn-export {
    background: #27ae60;
    color: white;
    margin-left: 10px;
}

.btn-export:hover {
    background: #229954;
    transform: translateY(-2px);
}

/* Footer */
.report-footer {
    background: #2c3e50;
    color: white;
    padding: 18px 35px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-top: 2px solid #34495e;
}

.footer-left p {
    margin: 3px 0;
    font-size: 12px;
    opacity: 0.9;
}

.footer-right p {
    margin: 0;
    font-size: 12px;
    font-weight: 600;
}

/* Utility Classes */
.text-right {
    text-align: right;
}

.text-center {
    text-align: center;
}

.text-success {
    color: #27ae60;
}

.text-danger {
    color: #e74c3c;
}

.amount {
    font-weight: bold;
}

.amount-positive {
    color: #27ae60;
}

.amount-negative {
    color: #e74c3c;
}

/* Print Styles */
@media print {
    body {
        background: white;
        padding: 0;
    }
    
    .container {
        box-shadow: none;
    }
    
    button, .btn {
        display: none;
    }
    
    .report-footer {
        position: fixed;
        bottom: 0;
        width: 100%;
    }
}

/* Responsive Design */
@media (max-width: 768px) {
    .report-header {
        flex-direction: column;
        text-align: center;
    }
    
    .company-info {
        text-align: center;
        margin-top: 20px;
    }
    
    .report-content {
        padding: 20px;
    }
    
    table {
        font-size: 12px;
    }
    
    th, td {
        padding: 10px 8px;
    }
    
    .report-footer {
        flex-direction: column;
        gap: 20px;
    }
}


</style>
    <style>
/*
 * TallyConnect - Report-Specific Styles
 * Specialized styles for different report types
 */

/* Outstanding Report Styles */
.outstanding-summary {
    margin: 20px 0;
}

.age-analysis {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 15px;
    margin: 25px 0;
}

.age-bucket {
    background: white;
    border-radius: 6px;
    padding: 18px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.08);
    text-align: center;
    transition: all 0.2s;
    border-left: 4px solid #bdc3c7;
}

.age-bucket:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.12);
}

.age-bucket .label {
    font-size: 12px;
    color: #7f8c8d;
    margin-bottom: 8px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.age-bucket .amount {
    font-size: 20px;
    font-weight: 700;
    color: #2c3e50;
}

.age-bucket.overdue {
    border-left-color: #e74c3c;
    background: linear-gradient(to right, #fee 0%, #fff 5%);
}

.age-bucket.warning {
    border-left-color: #f39c12;
    background: linear-gradient(to right, #fff8e1 0%, #fff 5%);
}

.age-bucket.safe {
    border-left-color: #27ae60;
    background: linear-gradient(to right, #e8f5e9 0%, #fff 5%);
}

/* Ledger Report Styles */
.ledger-header {
    background: #ecf0f1;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 20px;
}

.ledger-summary {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.balance-box {
    text-align: center;
    padding: 15px 30px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.balance-box .label {
    font-size: 12px;
    color: #7f8c8d;
    text-transform: uppercase;
}

.balance-box .value {
    font-size: 20px;
    font-weight: bold;
    margin-top: 5px;
}

.balance-box.opening {
    border-top: 3px solid #3498db;
}

.balance-box.closing {
    border-top: 3px solid #27ae60;
}

/* Dashboard Styles */
.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin: 30px 0;
}

.metric-card {
    background: white;
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    transition: all 0.3s;
}

.metric-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

.metric-card .icon {
    font-size: 40px;
    margin-bottom: 15px;
}

.metric-card .label {
    font-size: 14px;
    color: #7f8c8d;
    margin-bottom: 10px;
}

.metric-card .value {
    font-size: 28px;
    font-weight: bold;
    color: #2c3e50;
}

.metric-card.primary {
    border-left: 5px solid #3498db;
}

.metric-card.success {
    border-left: 5px solid #27ae60;
}

.metric-card.danger {
    border-left: 5px solid #e74c3c;
}

.metric-card.warning {
    border-left: 5px solid #f39c12;
}

/* Chart Container */
.chart-container {
    background: white;
    border-radius: 15px;
    padding: 30px;
    margin: 20px 0;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
}

.chart-container h3 {
    margin-bottom: 20px;
    color: #2c3e50;
}

/* Search and Filter Section */
.filter-section {
    background: #ecf0f1;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 20px;
}

.filter-row {
    display: flex;
    gap: 15px;
    align-items: center;
    flex-wrap: wrap;
}

.filter-row input,
.filter-row select {
    padding: 10px 15px;
    border: 1px solid #bdc3c7;
    border-radius: 5px;
    font-size: 14px;
    flex: 1;
    min-width: 200px;
}

.filter-row input:focus,
.filter-row select:focus {
    outline: none;
    border-color: #3498db;
}

.filter-row button {
    padding: 10px 20px;
    background: #3498db;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background 0.3s;
}

.filter-row button:hover {
    background: #2980b9;
}

/* Report Actions */
.report-actions {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
    margin-bottom: 20px;
}

.report-actions button {
    padding: 10px 20px;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s;
}

.btn-csv {
    background: #27ae60;
    color: white;
}

.btn-csv:hover {
    background: #229954;
}

.btn-excel {
    background: #16a085;
    color: white;
}

.btn-excel:hover {
    background: #138d75;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    .dashboard-grid {
        grid-template-columns: 1fr;
    }
    
    .age-analysis {
        grid-template-columns: 1fr;
    }
    
    .ledger-summary {
        flex-direction: column;
        gap: 15px;
    }
    
    .filter-row {
        flex-direction: column;
    }
    
    .filter-row input,
    .filter-row select {
        min-width: 100%;
    }
}

/* Print Styles */
@media print {
    .filter-section,
    .report-actions {
        display: none;
    }
    
    .chart-container {
        page-break-inside: avoid;
    }
}


</style>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="report-header">
            <div class="logo">
                <h1>üìä TallyConnect</h1>
                <p>Modern Tally Reporting</p>
            </div>
            <div class="company-info">
                <h2>Vrushali Infotech Pvt Ltd. 25-26</h2>
                <p>Ledger Report</p>
                <p style="font-size: 14px; opacity: 0.8;">01-04-2024 to 31-12-2025</p>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="report-content">
            <!-- Ledger Header -->
            <div class="ledger-header">
                <h3 style="margin-bottom: 20px; color: #2c3e50;">üìó S N Trading</h3>
                <div class="ledger-summary">
                    <div class="balance-box opening">
                        <div class="label">Opening Balance</div>
                        <div class="value">‚Çπ 0.00</div>
                    </div>
                    <div class="balance-box">
                        <div class="label">Total Debit</div>
                        <div class="value amount-positive">‚Çπ 6,372.00</div>
                    </div>
                    <div class="balance-box">
                        <div class="label">Total Credit</div>
                        <div class="value amount-negative">‚Çπ 6,372.00</div>
                    </div>
                    <div class="balance-box closing">
                        <div class="label">Closing Balance</div>
                        <div class="value">‚Çπ 0.00</div>
                    </div>
                </div>
            </div>

            <!-- Report Actions -->
            <div class="report-actions">
                <input type="text" id="searchInput" class="search-input" placeholder="üîç Search transactions..." 
                       data-table="ledgerTable" style="flex: 1; max-width: 300px;">
                <button onclick="exportToCSV('ledgerTable', 'ledger_report.csv')" class="btn-csv">
                    üìä Export CSV
                </button>
                <button onclick="window.print()" class="btn-print">
                    üñ®Ô∏è Print
                </button>
            </div>

            <!-- Transaction Details Table -->
            <h3 style="margin-top: 30px; color: #2c3e50;">üìã Transaction Details</h3>
            <table id="ledgerTable">
                <thead>
                    <tr>
                        <th data-sortable="true">Date</th>
                        <th data-sortable="true">Voucher Type</th>
                        <th data-sortable="true">Voucher No</th>
                        <th>Particulars</th>
                        <th data-sortable="true" class="text-right">Debit</th>
                        <th data-sortable="true" class="text-right">Credit</th>
                        <th data-sortable="true" class="text-right">Balance</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background: #e8f4f8; font-weight: bold;">
                        <td colspan="4">Opening Balance</td>
                        <td class="text-right">-</td>
                        <td class="text-right">-</td>
                        <td class="text-right">‚Çπ 0.00</td>
                    </tr>
                    
                    <tr>
                        <td>30-04-2025</td>
                        <td>Receipt</td>
                        <td>62</td>
                        <td>Type Transfer Credit         Narration UPI/1040167</td>
                        <td class="text-right">‚Çπ 3,186.00</td>
                        <td class="text-right">-</td>
                        <td class="text-right amount-positive"><strong>‚Çπ 3,186.00</strong></td>
                    </tr>
                

                    <tr>
                        <td>30-04-2025</td>
                        <td>Receipt</td>
                        <td>62</td>
                        <td>Type Transfer Credit         Narration UPI/1040167</td>
                        <td class="text-right">-</td>
                        <td class="text-right">‚Çπ 3,186.00</td>
                        <td class="text-right "><strong>‚Çπ 0.00</strong></td>
                    </tr>
                

                    <tr>
                        <td>30-04-2025</td>
                        <td>Sales</td>
                        <td>VIPL/25-26/047</td>
                        <td>None</td>
                        <td class="text-right">-</td>
                        <td class="text-right">‚Çπ 243.00</td>
                        <td class="text-right amount-negative"><strong>‚Çπ 243.00</strong></td>
                    </tr>
                

                    <tr>
                        <td>30-04-2025</td>
                        <td>Sales</td>
                        <td>VIPL/25-26/047</td>
                        <td>None</td>
                        <td class="text-right">-</td>
                        <td class="text-right">‚Çπ 243.00</td>
                        <td class="text-right amount-negative"><strong>‚Çπ 486.00</strong></td>
                    </tr>
                

                    <tr>
                        <td>30-04-2025</td>
                        <td>Sales</td>
                        <td>VIPL/25-26/047</td>
                        <td>None</td>
                        <td class="text-right">-</td>
                        <td class="text-right">‚Çπ 2,700.00</td>
                        <td class="text-right amount-negative"><strong>‚Çπ 3,186.00</strong></td>
                    </tr>
                

                    <tr>
                        <td>30-04-2025</td>
                        <td>Sales</td>
                        <td>VIPL/25-26/047</td>
                        <td>None</td>
                        <td class="text-right">‚Çπ 3,186.00</td>
                        <td class="text-right">-</td>
                        <td class="text-right "><strong>‚Çπ 0.00</strong></td>
                    </tr>
                
                    <tr style="background: #e8f4f8; font-weight: bold;">
                        <td colspan="4">Closing Balance</td>
                        <td class="text-right">-</td>
                        <td class="text-right">-</td>
                        <td class="text-right">‚Çπ 0.00</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr style="background: #ecf0f1; font-weight: bold;">
                        <td colspan="4">Total</td>
                        <td class="text-right">‚Çπ 6,372.00</td>
                        <td class="text-right">‚Çπ 6,372.00</td>
                        <td class="text-right">‚Çπ 0.00</td>
                    </tr>
                </tfoot>
            </table>
        </main>

        <!-- Footer Section -->
        <footer class="report-footer">
            <div class="footer-left">
                <p>Generated on: 13-12-2025 13:55:59</p>
                <p>TallyConnect v5.6 | ¬© 2025 Katara Dental</p>
            </div>
            <div class="footer-right">
                <p>Total Transactions: 6</p>
            </div>
        </footer>
    </div>

    <script>
/*
 * TallyConnect - Filters & Search
 * Interactive filtering for reports
 */

/**
 * Search/filter table rows
 * @param {string} inputId - ID of search input element
 * @param {string} tableId - ID of table element
 */
function searchTable(inputId, tableId) {
    const input = document.getElementById(inputId);
    const filter = input.value.toUpperCase();
    const table = document.getElementById(tableId);
    const tr = table.getElementsByTagName('tr');
    
    // Start from 1 to skip header row
    for (let i = 1; i < tr.length; i++) {
        const txtValue = tr[i].textContent || tr[i].innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = '';
        } else {
            tr[i].style.display = 'none';
        }
    }
}

/**
 * Sort table by column
 * @param {number} columnIndex - Column index to sort by
 * @param {string} tableId - ID of table element
 */
function sortTable(columnIndex, tableId) {
    const table = document.getElementById(tableId);
    const tbody = table.getElementsByTagName('tbody')[0];
    const rows = Array.from(tbody.getElementsByTagName('tr'));
    
    // Determine sort direction
    const currentDirection = table.getAttribute('data-sort-direction') || 'asc';
    const newDirection = currentDirection === 'asc' ? 'desc' : 'asc';
    
    // Sort rows
    rows.sort((a, b) => {
        const aValue = a.getElementsByTagName('td')[columnIndex].textContent.trim();
        const bValue = b.getElementsByTagName('td')[columnIndex].textContent.trim();
        
        // Try numeric sort first
        const aNum = parseFloat(aValue.replace(/[^0-9.-]/g, ''));
        const bNum = parseFloat(bValue.replace(/[^0-9.-]/g, ''));
        
        if (!isNaN(aNum) && !isNaN(bNum)) {
            return newDirection === 'asc' ? aNum - bNum : bNum - aNum;
        }
        
        // String sort
        return newDirection === 'asc' 
            ? aValue.localeCompare(bValue) 
            : bValue.localeCompare(aValue);
    });
    
    // Reattach sorted rows
    rows.forEach(row => tbody.appendChild(row));
    
    // Update sort direction
    table.setAttribute('data-sort-direction', newDirection);
}

/**
 * Filter table by date range
 * @param {string} fromDateId - ID of from date input
 * @param {string} toDateId - ID of to date input
 * @param {string} tableId - ID of table element
 * @param {number} dateColumnIndex - Column index containing dates
 */
function filterByDateRange(fromDateId, toDateId, tableId, dateColumnIndex) {
    const fromDate = document.getElementById(fromDateId).value;
    const toDate = document.getElementById(toDateId).value;
    const table = document.getElementById(tableId);
    const rows = table.getElementsByTagName('tr');
    
    for (let i = 1; i < rows.length; i++) {
        const dateCell = rows[i].getElementsByTagName('td')[dateColumnIndex];
        const dateValue = dateCell.textContent.trim();
        
        // Convert to comparable format (assuming DD-MM-YYYY)
        const [day, month, year] = dateValue.split('-');
        const rowDate = new Date(year, month - 1, day);
        
        const from = fromDate ? new Date(fromDate) : new Date('1900-01-01');
        const to = toDate ? new Date(toDate) : new Date('2100-12-31');
        
        if (rowDate >= from && rowDate <= to) {
            rows[i].style.display = '';
        } else {
            rows[i].style.display = 'none';
        }
    }
}

/**
 * Highlight text in search results
 * @param {string} text - Text to highlight
 * @param {string} search - Search term
 */
function highlightText(text, search) {
    if (!search) return text;
    const regex = new RegExp(`(${search})`, 'gi');
    return text.replace(regex, '<mark>$1</mark>');
}

// Auto-attach event listeners when DOM loads
document.addEventListener('DOMContentLoaded', function() {
    // Attach search functionality to all .search-input elements
    document.querySelectorAll('.search-input').forEach(input => {
        input.addEventListener('keyup', function() {
            const tableId = this.getAttribute('data-table');
            searchTable(this.id, tableId);
        });
    });
    
    // Make table headers clickable for sorting
    document.querySelectorAll('th[data-sortable="true"]').forEach((header, index) => {
        header.style.cursor = 'pointer';
        header.addEventListener('click', function() {
            const table = this.closest('table');
            sortTable(index, table.id);
        });
    });
});


</script>
    <script>
/*
 * TallyConnect - Export Utilities
 * Export reports to PDF/Excel
 */

/**
 * Export table to CSV
 * @param {string} tableId - ID of table to export
 * @param {string} filename - Output filename
 */
function exportToCSV(tableId, filename = 'report.csv') {
    const table = document.getElementById(tableId);
    let csv = [];
    
    // Get headers
    const headers = [];
    table.querySelectorAll('thead th').forEach(th => {
        headers.push(th.textContent.trim());
    });
    csv.push(headers.join(','));
    
    // Get rows
    table.querySelectorAll('tbody tr').forEach(tr => {
        const row = [];
        tr.querySelectorAll('td').forEach(td => {
            // Escape commas and quotes
            let cell = td.textContent.trim();
            cell = cell.replace(/"/g, '""');
            if (cell.includes(',')) {
                cell = `"${cell}"`;
            }
            row.push(cell);
        });
        csv.push(row.join(','));
    });
    
    // Download
    const csvContent = csv.join('\n');
    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = filename;
    link.click();
}

/**
 * Export to PDF (uses browser print functionality)
 */
function exportToPDF() {
    window.print();
}

/**
 * Export table to Excel (basic implementation)
 * @param {string} tableId - ID of table to export
 * @param {string} filename - Output filename
 */
function exportToExcel(tableId, filename = 'report.xlsx') {
    // Basic implementation - exports as Excel-compatible HTML
    const table = document.getElementById(tableId);
    const html = table.outerHTML;
    
    const blob = new Blob([html], {
        type: 'application/vnd.ms-excel'
    });
    
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = filename;
    link.click();
}

/**
 * Copy table to clipboard
 * @param {string} tableId - ID of table to copy
 */
function copyTableToClipboard(tableId) {
    const table = document.getElementById(tableId);
    const range = document.createRange();
    range.selectNode(table);
    window.getSelection().removeAllRanges();
    window.getSelection().addRange(range);
    
    try {
        document.execCommand('copy');
        alert('Table copied to clipboard!');
    } catch (err) {
        alert('Failed to copy table');
    }
    
    window.getSelection().removeAllRanges();
}

/**
 * Print specific section of report
 * @param {string} sectionId - ID of section to print
 */
function printSection(sectionId) {
    const section = document.getElementById(sectionId);
    const printWindow = window.open('', '', 'height=600,width=800');
    
    printWindow.document.write('<html><head><title>Print</title>');
    printWindow.document.write('<link rel="stylesheet" href="../static/css/main.css">');
    printWindow.document.write('</head><body>');
    printWindow.document.write(section.outerHTML);
    printWindow.document.write('</body></html>');
    
    printWindow.document.close();
    printWindow.print();
}


</script>
</body>
</html>

